function WildWood(n){function s(n,t){var i=t.parentNode;i.lastChild==t?i.appendChild(n):i.insertBefore(n,t.nextSibling)}function c(n){var t=document.createElement("div");return t.innerHTML=n,t.childNodes[0]}function r(n,t,i,r,u){return n=n.replace(new RegExp("&gt;","g"),">"),n=n.replace(new RegExp("&lt;","g"),"<"),t||(t=undefined),r||(r=undefined),new Function(t,r,n)(i,u)}function f(r,u,e,o){var w,a,v,s,y,nt,b,l,d,tt,p;if(o&&(i=o.mumFor),r){if(w=!1,r.attributes){a=null;v=null;for(k in r.attributes){c=r.attributes[k];var g=r.attributes[k],c=g.value,h=g.name;if(h&&c)if(s=null,h==="v-for")y=c.split(" in "),y.length===2&&(bInFor=!0,w=!0,i={tp:"for",el:r,forVar:y[0],inVar:y[1],outerHTML:r.outerHTML,mumFor:i,tmpFor:o,lastEl:r},o||(r.style.display="none"),i.data=u,e.push(i));else if(h==="v-if")s={tp:"if",el:r,"var":c,forElVar:i,data:u,origDisplay:r.style.display},e.push(s);else if(h==="v-model")a=c,s={tp:"model",el:r,"var":c,forElVar:i,data:u},e.push(s);else if(h==="v-html")s={tp:"html",el:r,"var":c,forElVar:i,data:u},e.push(s);else if(h==="v-bind:value"||h===":value")s={tp:"bind:value",el:r,"var":c,forElVar:i,data:u},e.push(s);else if(h==="v-bind:style"||h===":style")s={tp:"bind:style",el:r,"var":c,forElVar:i,data:u},e.push(s);else if(h==="v-bind:class"||h===":class")s={tp:"bind:class",el:r,"var":c,forElVar:i,data:u},e.push(s);else if(h.indexOf("v-bind:")===0||h.indexOf(":")===0)nt=h.split(":")[1],s={tp:"bind:"+nt,el:r,"var":c,forElVar:i,data:u},e.push(s);else if(h==="v-on:change")l=c.split("("),l=l[0],n.methods&&n.methods[l]&&(v=n.methods[l]),s={tp:"on:change",el:r,"var":c,forElVar:i,data:u},e.push(s);else if(h.indexOf("v-on:")===0)if(b=h.split(":")[1],l=c.split("("),l=l[0],n.methods&&n.methods[l])d=n.methods[l],r["on"+b]=function(n){d&&d(u,n)},s={tp:"on:"+b,el:r,"var":c,forElVar:i,data:u},e.push(s);else throw Error("method "+l+" not exist");}(a||v)&&(r.onchange=function(){a&&(a.indexOf(".")===-1?n.data[a]=r.value:(a=a.split(".")[1],u[a]=r.value));v&&v(u)})}if(r.innerHTML&&r.innerHTML.indexOf("m_docTitle")>=0,r.children&&r.children.length!==0)for(p=0;p<r.children.length;p++)f(r.children[p],u,t,null);else r.children||(tt=1),r.innerHTML&&r.innerHTML.indexOf("<")===-1&&r.innerHTML.indexOf("{{")>=0&&e.push({tp:"innerHTML",el:r,innerHTML:r.innerHTML,forElVar:i,data:u});w&&(i=i.mumFor)}}function u(i,u,o,l){var g,et,nt,w,p,k,tt,it,rt,d,ot,ut,ft,b;for(g in t){var a=t[g],y="",v=u;if(a.innerHTML&&a.innerHTML.indexOf(u)>=0&&u.indexOf("m_docTitle")>=0,a.var&&a.var.indexOf(u)>=0&&u.indexOf("praised_comment")>=0,i!==n.data){if(a.data!==i)continue;a.forElVar&&a.var&&a.var.indexOf(".")===-1}if(a.innerHTML&&a.innerHTML.indexOf(u)>=0&&u.indexOf("praise_count")>=0,!a.forElVar||a.forElVar.tmpFor)if((a.forElVar||a.tp=="for")&&(i=a.data,a.forElVar&&(y=a.forElVar.forVar)),y&&(v=y+"."+v),a.tp==="model"&&a.var===v)a.el.type==="radio"?a.el.value===o&&(a.el.checked=!0):a.el.tagName==="DIV"?a.el.innerHTML=o:a.el.value=o;else if(a.tp==="innerHTML"&&a.innerHTML.indexOf(v)>=0)a.innerHTML.indexOf("comment.nickname")>=0,a.el.innerHTML=h(a.innerHTML,i,y),et=7;else if(a.tp==="html"&&a.var===v)a.el.innerHTML=o;else if(a.tp==="if"&&a.var.indexOf(v)>=0)nt=r("with(varObj){return "+a.var+"}","varObj",n.data,y,i),a.el.style.display=nt?a.origDisplay:"none";else if(a.tp==="bind:value"&&a.var.indexOf(v)>=0)a.el.value=r("with(varObj){return "+a.var+"}","varObj",n.data,y,i);else if(a.tp==="bind:style"){if(a.var.indexOf(v)>=0){w=null;w=r("with(varObj){return "+a.var+"}","varObj",n.data,y,i);a.var.indexOf("{")>=0||a.var===u;for(p in w)k=w[p],a.el.style[p]=k}}else if(a.tp==="bind:class"&&a.var.indexOf(v)>=0){w=null;w=r("with(varObj){return "+a.var+"}","varObj",n.data,y,i);a.var.indexOf("{")>=0||a.var===u;for(p in w)k=w[p],tt=k,tt?a.el.classList.contains(p)||a.el.classList.add(p):a.el.classList.contains(p)&&a.el.classList.remove(p)}else if(a.tp.indexOf("bind:")===0&&a.var===v)it=a.tp.split(":")[1],rt=r("with(varObj){return "+a.var+"}","varObj",n.data,y,i),a.el.setAttribute(it,rt);else if(a.tp==="for"&&!l&&(a.inVar===v||a.mumFor&&a.inVar===a.mumFor.forVar+"."+v)&&!a.tmpFor){d=i[u];ot="";for(ut in d)ft=d[ut],b=a.outerHTML,b=c(b),s(b,a.lastEl),f(b,ft,t,a),a.lastEl=b;e(i,d,u)}}}function o(n,i,r,o,l){var y,a,w,b,v,p,k,d;for(p in t)if(a=t[p],a.tp==="for"&&!a.tmpFor){if(a.inVar!==i)if(a.mumFor&&a.inVar===a.mumFor.forVar+"."+i){if(a.mumFor.data!==n)continue}else continue;if(w=n[i],r!=="push"&&r!=="unshift"||a.tmpFor){if(r=="splice"||r=="pop")a.tmpFor||(l.forEach(function(n){for(var i,r=t.length-1;r>=0;r--)i=t[r],(i.data===n||i.forElVar&&i.forElVar.mumFor&&i.forElVar.mumFor.data===n)&&t.splice(r,1),i.data===n&&i.tp==="for"&&i.tmpFor&&$(i.el).animate({height:"0px"},{duration:400,complete:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),u(n,i,w,!0));else if(r==="setValue"&&(y=o,b=l,a.tmpFor&&b===a.data)){for(v=a.outerHTML.replace(a.forVar+".",""),v=h(v,y),v=c(v),a.el.parentNode.replaceChild(v,a.el),p=t.length-1;p>=0;p--)k=t[p],k.data===b&&t.splice(p,1);a.el||(d=1);f(a.el,y,t,a.tmpFor,a);e(n,w,i,y)}}else y=o,v=a.outerHTML,v=c(v),r==="push"?s(v,a.lastEl):s(v,a.el),f(v,y,t,a),a.lastEl=v,u(n,i,w,!0),e(n,w,i,y)}}function y(i){var r=[];Object.keys(i).forEach(function(f){var o=i[f],s,h;if(typeof o=="function"||(s=!1,h=!1,t.every(function(n){return(n.var&&n.var.indexOf(f)>=0?s=!0:n.inVar&&n.inVar.indexOf(f)>=0?s=!0:n.innerHTML&&n.innerHTML.indexOf(f)>=0&&(s=!0),s&&n.el.type==="radio"&&n.tp==="model"&&(h=!0),s)?!1:!0}),!s))return!0;Object.defineProperty(i,f,{get:function(){return o},set:function(t){var r,h,s;if(o!==t){if(o=t,i===n.data&&(n.watch&&n.watch[f]&&n.watch[f](),n.computed))for(r in n.computed)h=n.computed[r],s=h.call(n.data),s!==n.data[r]&&(n.data[r]=s,u(i,r,s));Array.isArray(o)&&e(i,o,f);u(i,f,o)}}});Array.isArray(o)&&e(i,o,f);h?r.push({dataObj:i,pn:f,pv:o}):u(i,f,o)});r.forEach(function(n){u(n.dataObj,n.pn,n.pv)})}function e(n,i,r,u){var h=[],c,f;for(c in t)f=t[c],(f.inVar===r||f.mumFor&&f.mumFor.forVar+"."+r===f.inVar)&&h.push(f.inVar);if(h.length!==0&&(i.forEach(function(t,f){var e=i[f];u&&u!==t||(Object.defineProperty(i,f,{get:function(){return e},set:function(t){if(t!==e){var i=e;e=t;o(n,r,"setValue",e,i)}}}),y(t))}),!u)){var s=Array.prototype,l=Object.create(Array.prototype),e;["push","unshift","pop","splice"].forEach(t=>{Object.defineProperty(l,t,{value:function(){var u,f,h,i;if(t==="push")e=s[t].apply(this,arguments),o(n,r,t,arguments[0]);else if(t==="unshift")e=s[t].apply(this,arguments),o(n,r,t,arguments[0]);else if(t==="splice"){for(u=arguments[0],f=1,arguments.length===2&&(f=arguments[1]),h=[],i=u;i<u+f;i++)h.push(this[i]);e=s[t].apply(this,arguments);o(n,r,t,null,h)}else e=s[t].apply(this,arguments);return e}})});i.__proto__=l}}var h,a,t,i,l,v;if(this.ww=n,h=function(t,i,u){var e=0,p=-1,g=-1,o,w,s,a,h,v,b,k,d;if(e=t.indexOf(" v-for=",0),e>=0&&(e=t.indexOf(" v-for=",e+1),e>0&&(o=t.lastIndexOf("<",e),o>0&&(w=t.indexOf(" ",o),w>0))))for(s=t.substring(o+1,w),a=0,h=o;h<t.length;h++)if(v=t.substr(h,s.length+2),v=="<"+s+">"||v=="<"+s+" "?a++:v=="<\/"+s&&a--,a===0){p=o;g=h;break}for(var f=0,c=0,l=0,y="";f>=0&&c>=0&&l<=t.length-1;)f=t.indexOf("{{",l),b=!1,p>0&&f>p&&f<g&&(b=!0),f>=0?(y+=t.substring(l,f),c=t.indexOf("}}",f+1),c>f&&(k=t.substring(f+2,c),d="{{"+k+"}}",b||(d=r("with(varObj){return "+k+"}","varObj",n.data,u,i)),y+=d,l=c+2)):y+=t.substring(l,t.length);return y},a=n.el,n.el=document.querySelector(n.el),!n.el)throw Error(a+" does not exist");if(t=[],WildWood.prototype.getLstElVar=function(){return t},i=null,f(n.el,n.data,t,null),n.computed)for(l in n.computed)v=n.computed[l],n.data[l]=v();y(n.data)}